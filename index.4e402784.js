var e={};!function(e){function t(e,t){var n=function(e){for(var t=e.split(/([.#])/),n="",i="",r=1;r<t.length;r+=2)switch(t[r]){case".":n+=" "+t[r+1];break;case"#":i=t[r+1]}return{className:n.trim(),tag:t[0]||"div",id:i}}(e),i=n.tag,r=n.id,o=n.className,l=t?document.createElementNS(t,i):document.createElement(i);return r&&(l.id=r),o&&(t?l.setAttribute("class",o):l.className=o),l}function n(e){for(var n,i=[],r=arguments.length-1;r-- >0;)i[r]=arguments[r+1];var o=typeof e;if("string"===o)n=t(e);else if("function"===o)n=new(Function.prototype.bind.apply(e,[null].concat(i)));else throw Error("At least one argument required");return m(x(n),i,!0),n}function i(e,t){var n=x(e),i=x(t);return t===i&&i.__redom_view&&(t=i.__redom_view),i.parentNode&&(r(t,i,n),n.removeChild(i)),t}function r(e,t,n){var i=t.__redom_lifecycle;if(o(i)){t.__redom_lifecycle={};return}var r=n;for(t.__redom_mounted&&s(t,"onunmount");r;){var l=r.__redom_lifecycle||{};for(var a in i)l[a]&&(l[a]-=i[a]);o(l)&&(r.__redom_lifecycle=null),r=r.parentNode}}function o(e){if(null==e)return!0;for(var t in e)if(e[t])return!1;return!0}n.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return n.bind.apply(n,[this].concat(e))};var l=["onmount","onremount","onunmount"],a="undefined"!=typeof window&&"ShadowRoot"in window;function u(e,t,n,i){var o=x(e),u=x(t);t===u&&u.__redom_view&&(t=u.__redom_view),t!==u&&(u.__redom_view=t);var d=u.__redom_mounted,c=u.parentNode;if(d&&c!==o&&r(t,u,c),null!=n){if(i){var f=x(n);f.__redom_mounted&&s(f,"onunmount"),o.replaceChild(u,f)}else o.insertBefore(u,x(n))}else o.appendChild(u);return function(e,t,n,i){for(var r=t.__redom_lifecycle||(t.__redom_lifecycle={}),o=n===i,u=!1,d=0;d<l.length;d+=1){var c=l[d];!o&&e!==t&&c in e&&(r[c]=(r[c]||0)+1),r[c]&&(u=!0)}if(!u){t.__redom_lifecycle={};return}var f=n,_=!1;for((o||f&&f.__redom_mounted)&&(s(t,o?"onremount":"onmount"),_=!0);f;){var v=f.parentNode,h=f.__redom_lifecycle||(f.__redom_lifecycle={});for(var p in r)h[p]=(h[p]||0)+r[p];if(_)break;(f.nodeType===Node.DOCUMENT_NODE||a&&f instanceof ShadowRoot||v&&v.__redom_mounted)&&(s(f,o?"onremount":"onmount"),_=!0),f=v}}(t,u,o,c),t}function s(e,t){"onmount"===t||"onremount"===t?e.__redom_mounted=!0:"onunmount"===t&&(e.__redom_mounted=!1);var n=e.__redom_lifecycle;if(n){var i=e.__redom_view,r=0;for(var o in i&&i[t]&&i[t](),n)o&&r++;if(r)for(var l=e.firstChild;l;){var a=l.nextSibling;s(l,t),l=a}}}function d(e,t,n){var i=x(e);if("object"==typeof t)for(var r in t)c(i,r,t[r]);else c(i,t,n)}function c(e,t,n){e.style[t]=null==n?"":n}var f="http://www.w3.org/1999/xlink";function _(e,t,n,i){var r=x(e);if("object"==typeof t)for(var o in t)_(r,o,t[o],i);else{var l=r instanceof SVGElement,a="function"==typeof n;if("style"===t&&"object"==typeof n)d(r,n);else if(l&&a)r[t]=n;else if("dataset"===t)h(r,n);else if(!l&&(t in r||a)&&"list"!==t)r[t]=n;else{if(l&&"xlink"===t){v(r,n);return}i&&"class"===t&&(n=r.className+" "+n),null==n?r.removeAttribute(t):r.setAttribute(t,n)}}}function v(e,t,n){if("object"==typeof t)for(var i in t)v(e,i,t[i]);else null!=n?e.setAttributeNS(f,t,n):e.removeAttributeNS(f,t,n)}function h(e,t,n){if("object"==typeof t)for(var i in t)h(e,i,t[i]);else null!=n?e.dataset[t]=n:delete e.dataset[t]}function p(e){return document.createTextNode(null!=e?e:"")}function m(e,t,n){for(var i=0;i<t.length;i+=1){var r=t[i];if(0===r||r){var o=typeof r;"function"===o?r(e):"string"===o||"number"===o?e.appendChild(p(r)):g(x(r))?u(e,r):r.length?m(e,r,n):"object"===o&&_(e,r,null,n)}}}function w(e){return"string"==typeof e?n(e):x(e)}function x(e){return e.nodeType&&e||!e.el&&e||x(e.el)}function g(e){return e&&e.nodeType}function y(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];for(var r=x(e),o=function e(t,n,i){for(var r=i,o=Array(n.length),l=0;l<n.length;l++)o[l]=n[l]&&x(n[l]);for(var a=0;a<n.length;a++){var s=n[a];if(s){var d=o[a];if(d===r){r=r.nextSibling;continue}if(g(d)){var c=r&&r.nextSibling,f=null!=s.__redom_index&&c===o[a+1];u(t,s,r,f),f&&(r=c);continue}null!=s.length&&(r=e(t,s,r))}}return r}(e,t,r.firstChild);o;){var l=o.nextSibling;i(e,o),o=l}}var b=function(e,t,n){this.View=e,this.initData=n,this.oldLookup={},this.lookup={},this.oldViews=[],this.views=[],null!=t&&(this.key="function"==typeof t?t:function(e){return e[t]})};function N(e,t,n,i){return new C(e,t,n,i)}b.prototype.update=function(e,t){for(var n=this.View,i=this.key,r=this.initData,o=null!=i,l=this.lookup,a={},u=Array(e.length),s=this.views,d=0;d<e.length;d++){var c=e[d],f=void 0;if(o){var _=i(c);f=l[_]||new n(r,c,d,e),a[_]=f,f.__redom_id=_}else f=s[d]||new n(r,c,d,e);f.update&&f.update(c,d,e,t),x(f.el).__redom_view=f,u[d]=f}this.oldViews=s,this.views=u,this.oldLookup=l,this.lookup=a};var C=function(e,t,n,i){this.View=t,this.initData=i,this.views=[],this.pool=new b(t,n,i),this.el=w(e),this.keySet=null!=n};C.prototype.update=function(e,t){void 0===e&&(e=[]);var n=this.keySet,r=this.views;this.pool.update(e,t);var o=this.pool,l=o.views,a=o.lookup;if(n)for(var u=0;u<r.length;u++){var s=r[u];null==a[s.__redom_id]&&(s.__redom_index=null,i(this,s))}for(var d=0;d<l.length;d++)l[d].__redom_index=d;y(this,l),n&&(this.lookup=a),this.views=l},C.extend=function(e,t,n,i){return C.bind(C,e,t,n,i)},N.extend=C.extend;var D=function(e,t){this.el=p(""),this.visible=!1,this.view=null,this._placeholder=this.el,e instanceof Node?this._el=e:e.el instanceof Node?(this._el=e,this.view=e):this._View=e,this._initData=t};D.prototype.update=function(e,t){var n=this._placeholder,r=this.el.parentNode;if(e){if(!this.visible){if(this._el)u(r,this._el,n),i(r,n),this.el=x(this._el),this.visible=e;else{var o=new this._View(this._initData);this.el=x(o),this.view=o,u(r,o,n),i(r,n)}}this.view&&this.view.update&&this.view.update(t)}else if(this.visible){if(this._el){u(r,n,this._el),i(r,this._el),this.el=n,this.visible=e;return}u(r,n,this.view),i(r,this.view),this.el=n,this.view=null}this.visible=e};var k=function(e,t,n){this.el=w(e),this.views=t,this.Views=t,this.initData=n};k.prototype.update=function(e,t){if(e!==this.route){var n=this.views[e];this.route=e,n&&(n instanceof Node||n.el instanceof Node)?this.view=n:this.view=n&&new n(this.initData,t),y(this.el,[this.view])}this.view&&this.view.update&&this.view.update(t,e)};var E="http://www.w3.org/2000/svg";function S(e){for(var n,i=[],r=arguments.length-1;r-- >0;)i[r]=arguments[r+1];var o=typeof e;if("string"===o)n=t(e,E);else if("function"===o)n=new(Function.prototype.bind.apply(e,[null].concat(i)));else throw Error("At least one argument required");return m(x(n),i,!0),n}S.extend=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return S.bind.apply(S,[this].concat(e))},S.ns=E,e.List=C,e.ListPool=b,e.Place=D,e.Router=k,e.dispatch=function(e,t,n){void 0===n&&(n="redom");var i=x(e),r=new CustomEvent(n,{bubbles:!0,detail:t});i.dispatchEvent(r)},e.el=n,e.h=n,e.html=n,e.list=N,e.listPool=function(e,t,n){return new b(e,t,n)},e.mount=u,e.place=function(e,t){return new D(e,t)},e.router=function(e,t,n){return new k(e,t,n)},e.s=S,e.setAttr=function(e,t,n){_(e,t,n)},e.setChildren=y,e.setData=h,e.setStyle=d,e.setXlink=v,e.svg=S,e.text=p,e.unmount=i,e.viewFactory=function(e,t){if(!e||"object"!=typeof e)throw Error("views must be an object");if(!t||"string"!=typeof t)throw Error("key must be a string");return function(n,i,r,o){var l=i[t],a=e[l];if(a)return new a(n,i,r,o);throw Error("view "+l+" not found")}}}(e);const t=(0,e.el)("span.card__number","xxxx xxxx xxxx xxxx"),n=(0,e.el)("span.card__name","John Doe"),i=(0,e.el)("span.card__date","MM/YY"),r=(0,e.el)("div.card__personal",n,i),o=(0,e.el)("div.credit-card",t,r),l=(0,e.el)("p.secure","Secure Checkout");function a({type:t="text",id:n="",className:i="",placeholder:r="",maxLength:o="",onInput:l=null}){return(0,e.el)("input",{type:t,id:n,class:i,placeholder:r,maxlength:o,oninput:l})}const u=(0,e.el)("h2.validation-message",{style:"display: none; margin-top: 20px; text-align: center;"}),s=(0,e.el)("form.form#form",{onsubmit:function(e){e.preventDefault();let t=document.getElementById("cardHolder"),n=document.getElementById("cardNumber"),i=document.getElementById("cardDate"),r=document.getElementById("cvv"),o=t.value,l=n.value,a=i.value,s=r.value;({cardHolder:(function(e){if(!e||"string"!=typeof e)return!1;let t=e.trim();if(/\d/.test(t)||/[а-яА-ЯёЁ]/.test(t))return!1;let n=t.split(/\s+/);if(2!==n.length)return!1;let i=/^[a-zA-Z]+$/;return n.every(e=>i.test(e))})(o),cardNumber:(function(e){if(!e||"string"!=typeof e)return!1;let t=e.replace(/\s/g,"");if(!/^\d+$/.test(t))return!1;let n=t.length;return n>=13&&n<=16})(l),cardDate:!!a&&"string"==typeof a&&/^(0[1-9]|1[0-2])\/\d{2}$/.test(a),cvv:(function(e){if(!e||"string"!=typeof e)return!1;let t=e.trim();return 3===t.length&&/^\d{3}$/.test(t)})(s),isValid:function(){return this.cardHolder&&this.cardNumber&&this.cardDate&&this.cvv}}).isValid()?(u.textContent="Данные валидны ✓",u.style.color="#4CAF50"):(u.textContent="Данные не валидны ✗",u.style.color="#f44336"),u.style.display="block",setTimeout(()=>{u.style.display="none"},2e3)}},(0,e.el)("div.form__input-wrap.form__input-wrap_holder",(0,e.el)("label.form__label.form__holder-label","Card Holder"),a({id:"cardHolder",className:"input input__holder",placeholder:"Enter card holder name",onInput:function(e){let t=e.target.value.replace(/[^a-zA-Z\s]/g,"").split(" ").map(e=>e.slice(0,20)).slice(0,2).join(" ");n.textContent=t||"John Doe",e.target.value=t}})),(0,e.el)("div.form__input-wrap.form__input-wrap_number",(0,e.el)("label.form__label.form__number-label","Card Number"),a({id:"cardNumber",className:"input input__number",placeholder:"xxxx xxxx xxxx xxxx",maxLength:19,onInput:function(e){let n=e.target.value.replace(/\D/g,"");n=n.slice(0,16),e.target.value=n.replace(/(\d{4})/g,"$1 ").trim(),t.textContent=e.target.value||"xxxx xxxx xxxx xxxx"}})),(0,e.el)("div.form__input-wrap.form__input-wrap_date",(0,e.el)("label.form__label.form__date-label","Card Expiry"),a({id:"cardDate",className:"input input__date",placeholder:"MM/YY",maxLength:5,onInput:function(e){let t=e.target.value.replace(/\D/g,"");(t=t.slice(0,4)).length>=3&&(t=t.slice(0,2)+"/"+t.slice(2)),e.target.value=t,i.textContent=t||"MM/YY"}})),(0,e.el)("div.form__input-wrap.form__input-wrap_cvv",(0,e.el)("label.form__label.form__cvv-label","CVV"),a({id:"cvv",className:"input input__cvv",placeholder:"***",maxLength:3,onInput:function(e){let t=e.target.value.replace(/\D/g,"");e.target.value=t.slice(0,3)}})),(0,e.el)("button.form__button",{type:"submit"},"ОТПРАВИТЬ"),u);!function(t){let n=(0,e.el)("div.card",l,o,s),i=(0,e.el)("div.wrapper",n);(0,e.mount)(t,i)}(document.body);
//# sourceMappingURL=index.4e402784.js.map
